{"ast":null,"code":"import _regeneratorRuntime from\"/Users/safirtrew/Desktop/Strangers_Things/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/safirtrew/Desktop/Strangers_Things/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/safirtrew/Desktop/Strangers_Things/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{loginUser}from\"../api/index\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function LoggedIn(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var handleOnChange=function handleOnChange(event){var changed=event.target.id;if(changed===\"form2Example1\"){setUsername(event.target.value);}else if(changed===\"form2Example2\"){setPassword(event.target.value);}};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var token;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();_context.next=3;return loginUser(username,password);case 3:token=_context.sent;localStorage.setItem(\"token\",token);navigate(\"/Profile\");case 6:case\"end\":return _context.stop();}},_callee);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"section\",{className:\" text-center text-lg-start\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-0 d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4 d-none d-lg-flex\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://www.petinsurancequotes.com/app/uploads/2018/11/shih-tzu-dog-insurance.jpeg\",alt:\"shih tzu puppy\",className:\"w-100 rounded-t-5 rounded-tr-lg-0 rounded-bl-lg-5\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body py-5 px-md-5\",children:/*#__PURE__*/_jsxs(\"form\",{id:\"loginPage\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-outline mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Please Log In\"}),/*#__PURE__*/_jsx(\"input\",{id:\"form2Example1\",className:\"form-control\",placeholder:\"Username\",value:username,onChange:handleOnChange,minLength:\"6\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-outline mb-4\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"form2Example2\",className:\"form-control\",placeholder:\"Password\",minLength:\"6\",onChange:handleOnChange})}),/*#__PURE__*/_jsx(\"button\",{id:\"loginButton\",className:\"btn btn-dark\",type:\"submit\",children:\"Login\"}),/*#__PURE__*/_jsx(Link,{to:\"/Posts\",children:/*#__PURE__*/_jsx(\"button\",{id:\"viewAsGuest\",className:\"btn btn-dark\",children:\"View As Guest\"})})]})})})]})})});}// import React from \"react\";\n// import { redirect } from \"react-router-dom\";\n// function Login(props) {\n//   async function handleLoginBtn() {\n//     const body = JSON.stringify({\n//       user: {\n//         username: props.username,\n//         password: props.password,\n//       },\n//     });\n//     //  make api request\n//     const response = await fetch(\n//       \"https://strangers-things.herokuapp.com/api/2209-ftb-et-web-pt/users/login\",\n//       {\n//         method: \"POST\",\n//         headers: {\n//           \"Content-Type\": \"application/json\",\n//         },\n//         body,\n//       }\n//     );\n//     const json = await response.json();\n//     if (json.data.token) {\n//       localStorage.setItem(\"jwt\", json.data.token);\n//     }\n//   }\n//   return (\n//     <div>\n//       <h1>This is login up page</h1>\n//       <input\n//         placeholder=\"enter your username\"\n//         onChange={(e) => props.setUsername(e.target.value)}\n//       />\n//       <input\n//         placeholder=\"enter your password\"\n//         onChange={(e) => props.setPassword(e.target.value)}\n//       />\n//       <button onClick={handleLoginBtn}>Login</button>\n//     </div>\n//   );\n// }\n// export default Login;","map":{"version":3,"names":["React","useState","useNavigate","loginUser","Link","LoggedIn","navigate","username","setUsername","password","setPassword","handleOnChange","event","changed","target","id","value","handleSubmit","preventDefault","token","localStorage","setItem"],"sources":["/Users/safirtrew/Desktop/Strangers_Things/my-app/src/components/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { loginUser } from \"../api/index\";\nimport { Link } from \"react-router-dom\";\n\nexport default function LoggedIn() {\n  let navigate = useNavigate();\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleOnChange = (event) => {\n    const changed = event.target.id;\n    if (changed === \"form2Example1\") {\n      setUsername(event.target.value);\n    } else if (changed === \"form2Example2\") {\n      setPassword(event.target.value);\n    }\n  };\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    const token = await loginUser(username, password);\n    localStorage.setItem(\"token\", token);\n\n    navigate(\"/Profile\");\n  };\n\n  return (\n    <section className=\" text-center text-lg-start\">\n      <div className=\"card mb-3\">\n        <div className=\"row g-0 d-flex align-items-center\">\n          <div className=\"col-lg-4 d-none d-lg-flex\">\n            <img\n              src=\"https://www.petinsurancequotes.com/app/uploads/2018/11/shih-tzu-dog-insurance.jpeg\"\n              alt=\"shih tzu puppy\"\n              className=\"w-100 rounded-t-5 rounded-tr-lg-0 rounded-bl-lg-5\"\n            />\n          </div>\n          <div className=\"col-lg-8\">\n            <div className=\"card-body py-5 px-md-5\">\n              <form id=\"loginPage\" onSubmit={handleSubmit}>\n                <div className=\"form-outline mb-4\">\n                  <h2>Please Log In</h2>\n\n                  <input\n                    id=\"form2Example1\"\n                    className=\"form-control\"\n                    placeholder=\"Username\"\n                    value={username}\n                    onChange={handleOnChange}\n                    minLength=\"6\"\n                  ></input>\n                </div>\n                <div className=\"form-outline mb-4\">\n                  <input\n                    type=\"password\"\n                    id=\"form2Example2\"\n                    className=\"form-control\"\n                    placeholder=\"Password\"\n                    minLength=\"6\"\n                    onChange={handleOnChange}\n                  ></input>\n                </div>\n                <button id=\"loginButton\" className=\"btn btn-dark\" type=\"submit\">\n                  Login\n                </button>\n\n                <Link to=\"/Posts\">\n                  <button id=\"viewAsGuest\" className=\"btn btn-dark\">\n                    View As Guest\n                  </button>\n                </Link>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n\n// import React from \"react\";\n// import { redirect } from \"react-router-dom\";\n\n// function Login(props) {\n//   async function handleLoginBtn() {\n//     const body = JSON.stringify({\n//       user: {\n//         username: props.username,\n//         password: props.password,\n//       },\n//     });\n\n//     //  make api request\n//     const response = await fetch(\n//       \"https://strangers-things.herokuapp.com/api/2209-ftb-et-web-pt/users/login\",\n//       {\n//         method: \"POST\",\n//         headers: {\n//           \"Content-Type\": \"application/json\",\n//         },\n//         body,\n//       }\n//     );\n\n//     const json = await response.json();\n\n//     if (json.data.token) {\n//       localStorage.setItem(\"jwt\", json.data.token);\n//     }\n//   }\n\n//   return (\n//     <div>\n//       <h1>This is login up page</h1>\n//       <input\n//         placeholder=\"enter your username\"\n//         onChange={(e) => props.setUsername(e.target.value)}\n//       />\n//       <input\n//         placeholder=\"enter your password\"\n//         onChange={(e) => props.setPassword(e.target.value)}\n//       />\n//       <button onClick={handleLoginBtn}>Login</button>\n//     </div>\n//   );\n// }\n\n// export default Login;\n"],"mappings":"kaAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,SAAS,KAAQ,cAAc,CACxC,OAASC,IAAI,KAAQ,kBAAkB,CAAC,wFAExC,cAAe,SAASC,SAAQ,EAAG,CACjC,GAAIC,SAAQ,CAAGJ,WAAW,EAAE,CAC5B,cAAgCD,QAAQ,CAAC,EAAE,CAAC,wCAArCM,QAAQ,eAAEC,WAAW,eAC5B,eAAgCP,QAAQ,CAAC,EAAE,CAAC,yCAArCQ,QAAQ,eAAEC,WAAW,eAE5B,GAAMC,eAAc,CAAG,QAAjBA,eAAc,CAAIC,KAAK,CAAK,CAChC,GAAMC,QAAO,CAAGD,KAAK,CAACE,MAAM,CAACC,EAAE,CAC/B,GAAIF,OAAO,GAAK,eAAe,CAAE,CAC/BL,WAAW,CAACI,KAAK,CAACE,MAAM,CAACE,KAAK,CAAC,CACjC,CAAC,IAAM,IAAIH,OAAO,GAAK,eAAe,CAAE,CACtCH,WAAW,CAACE,KAAK,CAACE,MAAM,CAACE,KAAK,CAAC,CACjC,CACF,CAAC,CACD,GAAMC,aAAY,4FAAG,iBAAOL,KAAK,6HAC/BA,KAAK,CAACM,cAAc,EAAE,CAAC,sBAEHf,UAAS,CAACI,QAAQ,CAAEE,QAAQ,CAAC,QAA3CU,KAAK,eACXC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAEF,KAAK,CAAC,CAEpCb,QAAQ,CAAC,UAAU,CAAC,CAAC,qDACtB,kBAPKW,aAAY,4CAOjB,CAED,mBACE,gBAAS,SAAS,CAAC,4BAA4B,uBAC7C,YAAK,SAAS,CAAC,WAAW,uBACxB,aAAK,SAAS,CAAC,mCAAmC,wBAChD,YAAK,SAAS,CAAC,2BAA2B,uBACxC,YACE,GAAG,CAAC,oFAAoF,CACxF,GAAG,CAAC,gBAAgB,CACpB,SAAS,CAAC,mDAAmD,EAC7D,EACE,cACN,YAAK,SAAS,CAAC,UAAU,uBACvB,YAAK,SAAS,CAAC,wBAAwB,uBACrC,cAAM,EAAE,CAAC,WAAW,CAAC,QAAQ,CAAEA,YAAa,wBAC1C,aAAK,SAAS,CAAC,mBAAmB,wBAChC,oBAAI,eAAa,EAAK,cAEtB,cACE,EAAE,CAAC,eAAe,CAClB,SAAS,CAAC,cAAc,CACxB,WAAW,CAAC,UAAU,CACtB,KAAK,CAAEV,QAAS,CAChB,QAAQ,CAAEI,cAAe,CACzB,SAAS,CAAC,GAAG,EACN,GACL,cACN,YAAK,SAAS,CAAC,mBAAmB,uBAChC,cACE,IAAI,CAAC,UAAU,CACf,EAAE,CAAC,eAAe,CAClB,SAAS,CAAC,cAAc,CACxB,WAAW,CAAC,UAAU,CACtB,SAAS,CAAC,GAAG,CACb,QAAQ,CAAEA,cAAe,EAClB,EACL,cACN,eAAQ,EAAE,CAAC,aAAa,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,QAAQ,UAAC,OAEhE,EAAS,cAET,KAAC,IAAI,EAAC,EAAE,CAAC,QAAQ,uBACf,eAAQ,EAAE,CAAC,aAAa,CAAC,SAAS,CAAC,cAAc,UAAC,eAElD,EAAS,EACJ,GACF,EACH,EACF,GACF,EACF,EACE,CAEd,CAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA"},"metadata":{},"sourceType":"module","externalDependencies":[]}