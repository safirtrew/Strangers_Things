{"ast":null,"code":"import _regeneratorRuntime from\"/Users/safirtrew/Desktop/Strangers_Things/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/safirtrew/Desktop/Strangers_Things/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";export var cohortName=\"2209-ftb-et-web-pt\";export var BASE_URL=\"https://strangers-things.herokuapp.com/api/\";export function getPosts(){return _getPosts.apply(this,arguments);}function _getPosts(){_getPosts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var data,result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(BASE_URL).concat(cohortName,\"/posts\"));case 3:data=_context.sent;_context.next=6;return data.json();case 6:result=_context.sent;return _context.abrupt(\"return\",result);case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);throw _context.t0;case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return _getPosts.apply(this,arguments);}export function addPosts(_x,_x2){return _addPosts.apply(this,arguments);}function _addPosts(){_addPosts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(postDetail,token){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"\".concat(BASE_URL).concat(cohortName,\"/posts\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)},body:JSON.stringify({post:{title:postDetail.title,description:postDetail.description,location:postDetail.location,price:postDetail.price,willDeliver:postDetail.willDeliver}})}).then(function(response){return response.json();}).then(function(result){console.log(result);}).catch(console.error);case 2:response=_context2.sent;case 3:case\"end\":return _context2.stop();}},_callee2);}));return _addPosts.apply(this,arguments);}export function loginUser(_x3,_x4){return _loginUser.apply(this,arguments);}function _loginUser(){_loginUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(username,password){var response,result,token;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch(\"\".concat(BASE_URL).concat(cohortName,\"/users/login\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({user:{username:username,password:password}})});case 3:response=_context3.sent;_context3.next=6;return response.json();case 6:result=_context3.sent;token=result.data.token;return _context3.abrupt(\"return\",token);case 11:_context3.prev=11;_context3.t0=_context3[\"catch\"](0);throw _context3.t0;case 14:case\"end\":return _context3.stop();}},_callee3,null,[[0,11]]);}));return _loginUser.apply(this,arguments);}export function connectProfile(_x5){return _connectProfile.apply(this,arguments);}function _connectProfile(){_connectProfile=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(token){var response,result;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(\"\".concat(BASE_URL).concat(cohortName,\"/users/me\"),{headers:{\"Content-Type\":\"application.json\",Authorization:\"Bearer \".concat(token)}});case 2:response=_context4.sent;_context4.next=5;return response.json();case 5:result=_context4.sent;return _context4.abrupt(\"return\",result);case 7:case\"end\":return _context4.stop();}},_callee4);}));return _connectProfile.apply(this,arguments);}export function getUser(_x6){return _getUser.apply(this,arguments);}function _getUser(){_getUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(authToken){var userData,response,result;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.prev=0;userData={\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(authToken)};_context5.next=4;return fetch(\"\".concat(BASE_URL).concat(cohortName,\"/users/me\"),{headers:userData});case 4:response=_context5.sent;_context5.next=7;return response.json();case 7:result=_context5.sent;return _context5.abrupt(\"return\",result);case 11:_context5.prev=11;_context5.t0=_context5[\"catch\"](0);throw _context5.t0;case 14:case\"end\":return _context5.stop();}},_callee5,null,[[0,11]]);}));return _getUser.apply(this,arguments);}export function createUser(_x7,_x8){return _createUser.apply(this,arguments);}function _createUser(){_createUser=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee6(username,password){var response;return _regeneratorRuntime().wrap(function _callee6$(_context6){while(1)switch(_context6.prev=_context6.next){case 0:_context6.prev=0;console.log(\"\".concat(BASE_URL).concat(cohortName,\"/users/register\"));_context6.next=4;return fetch(\"\".concat(BASE_URL).concat(cohortName,\"/users/Register\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({user:{username:username,password:password}})});case 4:response=_context6.sent;return _context6.abrupt(\"return\",response);case 8:_context6.prev=8;_context6.t0=_context6[\"catch\"](0);throw _context6.t0;case 11:case\"end\":return _context6.stop();}},_callee6,null,[[0,8]]);}));return _createUser.apply(this,arguments);}export function deletePosts(_x9,_x10){return _deletePosts.apply(this,arguments);}function _deletePosts(){_deletePosts=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee7(token,postid){var response,result;return _regeneratorRuntime().wrap(function _callee7$(_context7){while(1)switch(_context7.prev=_context7.next){case 0:_context7.prev=0;_context7.next=3;return fetch(\"\".concat(BASE_URL).concat(cohortName,\"/posts/\").concat(postid),{method:\"DELETE\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)}});case 3:response=_context7.sent;_context7.next=6;return response.json();case 6:result=_context7.sent;return _context7.abrupt(\"return\",result);case 10:_context7.prev=10;_context7.t0=_context7[\"catch\"](0);console.error(\"Isssue deleting Posts\",_context7.t0);case 13:case\"end\":return _context7.stop();}},_callee7,null,[[0,10]]);}));return _deletePosts.apply(this,arguments);}export function sendMessage(_x11,_x12,_x13){return _sendMessage.apply(this,arguments);}function _sendMessage(){_sendMessage=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee8(token,postid,content){var response;return _regeneratorRuntime().wrap(function _callee8$(_context8){while(1)switch(_context8.prev=_context8.next){case 0:_context8.next=2;return fetch(\"\".concat(BASE_URL).concat(cohortName,\"/posts/\").concat(postid,\"/messages\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(token)},body:JSON.stringify({message:{content:content}})}).then(function(response){return response.json();}).then(function(result){console.log(result,\"this is result for sendMessage\");}).catch(console.error);case 2:response=_context8.sent;case 3:case\"end\":return _context8.stop();}},_callee8);}));return _sendMessage.apply(this,arguments);}","map":{"version":3,"names":["cohortName","BASE_URL","getPosts","fetch","data","json","result","addPosts","postDetail","token","method","headers","Authorization","body","JSON","stringify","post","title","description","location","price","willDeliver","then","response","console","log","catch","error","loginUser","username","password","user","connectProfile","getUser","authToken","userData","createUser","deletePosts","postid","sendMessage","content","message"],"sources":["/Users/safirtrew/Desktop/Strangers_Things/my-app/src/api/index.js"],"sourcesContent":["export const cohortName = \"2209-ftb-et-web-pt\";\nexport const BASE_URL = `https://strangers-things.herokuapp.com/api/`;\n\nexport async function getPosts() {\n  try {\n    const data = await fetch(`${BASE_URL}${cohortName}/posts`);\n    const result = await data.json();\n    return result;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function addPosts(postDetail, token) {\n  const response = await fetch(`${BASE_URL}${cohortName}/posts`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${token}`,\n    },\n    body: JSON.stringify({\n      post: {\n        title: postDetail.title,\n        description: postDetail.description,\n        location: postDetail.location,\n        price: postDetail.price,\n        willDeliver: postDetail.willDeliver,\n      },\n    }),\n  })\n    .then((response) => response.json())\n    .then((result) => {\n      console.log(result);\n    })\n    .catch(console.error);\n}\n\nexport async function loginUser(username, password) {\n  try {\n    const response = await fetch(`${BASE_URL}${cohortName}/users/login`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        user: {\n          username: username,\n          password: password,\n        },\n      }),\n    });\n    const result = await response.json();\n    const token = result.data.token;\n    return token;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function connectProfile(token) {\n  const response = await fetch(`${BASE_URL}${cohortName}/users/me`, {\n    headers: {\n      \"Content-Type\": \"application.json\",\n      Authorization: `Bearer ${token}`,\n    },\n  });\n  const result = await response.json();\n  return result;\n}\n\nexport async function getUser(authToken) {\n  try {\n    const userData = {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${authToken}`,\n    };\n    const response = await fetch(`${BASE_URL}${cohortName}/users/me`, {\n      headers: userData,\n    });\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function createUser(username, password) {\n  try {\n    console.log(`${BASE_URL}${cohortName}/users/register`);\n    const response = await fetch(`${BASE_URL}${cohortName}/users/Register`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        user: {\n          username: username,\n          password: password,\n        },\n      }),\n    });\n    return response;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function deletePosts(token, postid) {\n  try {\n    const response = await fetch(`${BASE_URL}${cohortName}/posts/${postid}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    const result = await response.json();\n    return result;\n  } catch (error) {\n    console.error(\"Isssue deleting Posts\", error);\n  }\n}\n\nexport async function sendMessage(token, postid, content) {\n  const response = await fetch(\n    `${BASE_URL}${cohortName}/posts/${postid}/messages`,\n    {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`,\n      },\n      body: JSON.stringify({\n        message: {\n          content: content,\n        },\n      }),\n    }\n  )\n    .then((response) => response.json())\n    .then((result) => {\n      console.log(result, \"this is result for sendMessage\");\n    })\n    .catch(console.error);\n}\n"],"mappings":"4RAAA,MAAO,IAAMA,WAAU,CAAG,oBAAoB,CAC9C,MAAO,IAAMC,SAAQ,8CAAgD,CAErE,eAAsBC,SAAQ,2CAQ7B,yFARM,0LAEgBC,MAAK,WAAIF,QAAQ,SAAGD,UAAU,WAAS,QAApDI,IAAI,qCACWA,KAAI,CAACC,IAAI,EAAE,QAA1BC,MAAM,+CACLA,MAAM,kJAIhB,2CAED,eAAsBC,SAAQ,iDAsB7B,yFAtBM,kBAAwBC,UAAU,CAAEC,KAAK,2JACvBN,MAAK,WAAIF,QAAQ,SAAGD,UAAU,WAAU,CAC7DU,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClCC,aAAa,kBAAYH,KAAK,CAChC,CAAC,CACDI,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBC,IAAI,CAAE,CACJC,KAAK,CAAET,UAAU,CAACS,KAAK,CACvBC,WAAW,CAAEV,UAAU,CAACU,WAAW,CACnCC,QAAQ,CAAEX,UAAU,CAACW,QAAQ,CAC7BC,KAAK,CAAEZ,UAAU,CAACY,KAAK,CACvBC,WAAW,CAAEb,UAAU,CAACa,WAC1B,CACF,CAAC,CACH,CAAC,CAAC,CACCC,IAAI,CAAC,SAACC,QAAQ,QAAKA,SAAQ,CAAClB,IAAI,EAAE,GAAC,CACnCiB,IAAI,CAAC,SAAChB,MAAM,CAAK,CAChBkB,OAAO,CAACC,GAAG,CAACnB,MAAM,CAAC,CACrB,CAAC,CAAC,CACDoB,KAAK,CAACF,OAAO,CAACG,KAAK,CAAC,QApBjBJ,QAAQ,uEAqBf,2CAED,eAAsBK,UAAS,mDAoB9B,2FApBM,kBAAyBC,QAAQ,CAAEC,QAAQ,yLAEvB3B,MAAK,WAAIF,QAAQ,SAAGD,UAAU,iBAAgB,CACnEU,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDE,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBgB,IAAI,CAAE,CACJF,QAAQ,CAAEA,QAAQ,CAClBC,QAAQ,CAAEA,QACZ,CACF,CAAC,CACH,CAAC,CAAC,QAXIP,QAAQ,uCAYOA,SAAQ,CAAClB,IAAI,EAAE,QAA9BC,MAAM,gBACNG,KAAK,CAAGH,MAAM,CAACF,IAAI,CAACK,KAAK,kCACxBA,KAAK,wJAIf,4CAED,eAAsBuB,eAAc,oDASnC,qGATM,kBAA8BvB,KAAK,kKACjBN,MAAK,WAAIF,QAAQ,SAAGD,UAAU,cAAa,CAChEW,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClCC,aAAa,kBAAYH,KAAK,CAChC,CACF,CAAC,CAAC,QALIc,QAAQ,uCAMOA,SAAQ,CAAClB,IAAI,EAAE,QAA9BC,MAAM,iDACLA,MAAM,yDACd,iDAED,eAAsB2B,QAAO,6CAc5B,uFAdM,kBAAuBC,SAAS,qKAE7BC,QAAQ,CAAG,CACf,cAAc,CAAE,kBAAkB,CAClCvB,aAAa,kBAAYsB,SAAS,CACpC,CAAC,wBACsB/B,MAAK,WAAIF,QAAQ,SAAGD,UAAU,cAAa,CAChEW,OAAO,CAAEwB,QACX,CAAC,CAAC,QAFIZ,QAAQ,uCAGOA,SAAQ,CAAClB,IAAI,EAAE,QAA9BC,MAAM,iDACLA,MAAM,wJAIhB,0CAED,eAAsB8B,WAAU,oDAmB/B,6FAnBM,kBAA0BP,QAAQ,CAAEC,QAAQ,qJAE/CN,OAAO,CAACC,GAAG,WAAIxB,QAAQ,SAAGD,UAAU,oBAAkB,CAAC,uBAChCG,MAAK,WAAIF,QAAQ,SAAGD,UAAU,oBAAmB,CACtEU,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDE,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnBgB,IAAI,CAAE,CACJF,QAAQ,CAAEA,QAAQ,CAClBC,QAAQ,CAAEA,QACZ,CACF,CAAC,CACH,CAAC,CAAC,QAXIP,QAAQ,iDAYPA,QAAQ,qJAIlB,6CAED,eAAsBc,YAAW,sDAchC,+FAdM,kBAA2B5B,KAAK,CAAE6B,MAAM,mLAEpBnC,MAAK,WAAIF,QAAQ,SAAGD,UAAU,mBAAUsC,MAAM,EAAI,CACvE5B,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClCC,aAAa,kBAAYH,KAAK,CAChC,CACF,CAAC,CAAC,QANIc,QAAQ,uCAOOA,SAAQ,CAAClB,IAAI,EAAE,QAA9BC,MAAM,iDACLA,MAAM,+DAEbkB,OAAO,CAACG,KAAK,CAAC,uBAAuB,cAAQ,CAAC,sEAEjD,8CAED,eAAsBY,YAAW,4DAqBhC,+FArBM,kBAA2B9B,KAAK,CAAE6B,MAAM,CAAEE,OAAO,2JAC/BrC,MAAK,WACvBF,QAAQ,SAAGD,UAAU,mBAAUsC,MAAM,cACxC,CACE5B,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CACP,cAAc,CAAE,kBAAkB,CAClCC,aAAa,kBAAYH,KAAK,CAChC,CAAC,CACDI,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CACnB0B,OAAO,CAAE,CACPD,OAAO,CAAEA,OACX,CACF,CAAC,CACH,CAAC,CACF,CACElB,IAAI,CAAC,SAACC,QAAQ,QAAKA,SAAQ,CAAClB,IAAI,EAAE,GAAC,CACnCiB,IAAI,CAAC,SAAChB,MAAM,CAAK,CAChBkB,OAAO,CAACC,GAAG,CAACnB,MAAM,CAAE,gCAAgC,CAAC,CACvD,CAAC,CAAC,CACDoB,KAAK,CAACF,OAAO,CAACG,KAAK,CAAC,QAnBjBJ,QAAQ,uEAoBf"},"metadata":{},"sourceType":"module","externalDependencies":[]}