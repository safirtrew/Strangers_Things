{"ast":null,"code":"import _regeneratorRuntime from\"/Users/safirtrew/Desktop/Strangers_Things/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/safirtrew/Desktop/Strangers_Things/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/safirtrew/Desktop/Strangers_Things/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{addPosts}from\"../api/index\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function NewPost(){var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),description=_useState4[0],setDescription=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),location=_useState6[0],setLocation=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),price=_useState8[0],setPrice=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,1),willDeliver=_useState10[0];var authToken=localStorage.getItem(\"token\")?true:false;function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var postDetail,token,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();postDetail={title:title,description:description,location:location,price:price,willDeliver:willDeliver};token=localStorage.getItem(\"token\");_context.next=5;return addPosts(postDetail,token);case 5:response=_context.sent;navigate(\"/Posts\");return _context.abrupt(\"return\",response);case 8:case\"end\":return _context.stop();}},_callee);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsx(\"section\",{className:\" text-center text-lg-start\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card mb-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row g-0 d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4 d-none d-lg-flex\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body py-5 px-md-5\",children:authToken===true?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create a New Post\"}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-outline mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"form2Example1\",className:\"form-control\",type:\"text\",onChange:function onChange(event){return setTitle(event.target.value);},placeholder:\"title\"}),/*#__PURE__*/_jsx(\"input\",{id:\"form2Example1\",className:\"form-control\",type:\"text\",onChange:function onChange(event){return setDescription(event.target.value);},placeholder:\"description\"}),/*#__PURE__*/_jsx(\"input\",{id:\"form2Example1\",className:\"form-control\",type:\"text\",onChange:function onChange(event){return setLocation(event.target.value);},placeholder:\"location\"}),/*#__PURE__*/_jsx(\"input\",{id:\"form2Example1\",className:\"form-control\",type:\"text\",onChange:function onChange(event){return setPrice(event.target.value);},placeholder:\"price\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark\",id:\"newPostButton\",children:\"Submit New Post\"})]})})]}):/*#__PURE__*/_jsx(\"h2\",{children:\"Please Login Before Attempting To Post\"})})})]})})});}","map":{"version":3,"names":["React","useState","useNavigate","addPosts","NewPost","navigate","title","setTitle","description","setDescription","location","setLocation","price","setPrice","willDeliver","authToken","localStorage","getItem","handleSubmit","event","preventDefault","postDetail","token","response","target","value"],"sources":["/Users/safirtrew/Desktop/Strangers_Things/my-app/src/components/NewPost.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\n\nimport { addPosts } from \"../api/index\";\n\nexport default function NewPost() {\n  let navigate = useNavigate();\n\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [location, setLocation] = useState(\"\");\n  const [price, setPrice] = useState(\"\");\n  const [willDeliver] = useState(false);\n\n  const authToken = localStorage.getItem(\"token\") ? true : false;\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n\n    const postDetail = {\n      title: title,\n      description: description,\n      location: location,\n      price: price,\n      willDeliver: willDeliver,\n    };\n\n    const token = localStorage.getItem(\"token\");\n\n    const response = await addPosts(postDetail, token);\n\n    navigate(\"/Posts\");\n    return response;\n  }\n  return (\n    <section className=\" text-center text-lg-start\">\n      <div className=\"card mb-3\">\n        <div className=\"row g-0 d-flex align-items-center\">\n          <div className=\"col-lg-4 d-none d-lg-flex\"></div>\n          <div className=\"col-lg-8\">\n            <div className=\"card-body py-5 px-md-5\">\n              {authToken === true ? (\n                <>\n                  <h1>Create a New Post</h1>\n                  <form onSubmit={handleSubmit}>\n                    <div className=\"form-outline mb-4\">\n                      <input\n                        id=\"form2Example1\"\n                        className=\"form-control\"\n                        type=\"text\"\n                        onChange={(event) => setTitle(event.target.value)}\n                        placeholder=\"title\"\n                      ></input>\n                      <input\n                        id=\"form2Example1\"\n                        className=\"form-control\"\n                        type=\"text\"\n                        onChange={(event) => setDescription(event.target.value)}\n                        placeholder=\"description\"\n                      ></input>\n                      <input\n                        id=\"form2Example1\"\n                        className=\"form-control\"\n                        type=\"text\"\n                        onChange={(event) => setLocation(event.target.value)}\n                        placeholder=\"location\"\n                      ></input>\n                      <input\n                        id=\"form2Example1\"\n                        className=\"form-control\"\n                        type=\"text\"\n                        onChange={(event) => setPrice(event.target.value)}\n                        placeholder=\"price\"\n                      ></input>\n                      <button className=\"btn btn-dark\" id=\"newPostButton\">\n                        Submit New Post\n                      </button>\n                    </div>\n                  </form>\n                </>\n              ) : (\n                <h2>Please Login Before Attempting To Post</h2>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n}\n"],"mappings":"kaAAA,MAAOA,MAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAE9C,OAASC,QAAQ,KAAQ,cAAc,CAAC,6IAExC,cAAe,SAASC,QAAO,EAAG,CAChC,GAAIC,SAAQ,CAAGH,WAAW,EAAE,CAE5B,cAA0BD,QAAQ,CAAC,EAAE,CAAC,wCAA/BK,KAAK,eAAEC,QAAQ,eACtB,eAAsCN,QAAQ,CAAC,EAAE,CAAC,yCAA3CO,WAAW,eAAEC,cAAc,eAClC,eAAgCR,QAAQ,CAAC,EAAE,CAAC,yCAArCS,QAAQ,eAAEC,WAAW,eAC5B,eAA0BV,QAAQ,CAAC,EAAE,CAAC,yCAA/BW,KAAK,eAAEC,QAAQ,eACtB,eAAsBZ,QAAQ,CAAC,KAAK,CAAC,0CAA9Ba,WAAW,gBAElB,GAAMC,UAAS,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAAG,IAAI,CAAG,KAAK,CAAC,QAEhDC,aAAY,kJAA3B,iBAA4BC,KAAK,iJAC/BA,KAAK,CAACC,cAAc,EAAE,CAEhBC,UAAU,CAAG,CACjBf,KAAK,CAAEA,KAAK,CACZE,WAAW,CAAEA,WAAW,CACxBE,QAAQ,CAAEA,QAAQ,CAClBE,KAAK,CAAEA,KAAK,CACZE,WAAW,CAAEA,WACf,CAAC,CAEKQ,KAAK,CAAGN,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,uBAEpBd,SAAQ,CAACkB,UAAU,CAAEC,KAAK,CAAC,QAA5CC,QAAQ,eAEdlB,QAAQ,CAAC,QAAQ,CAAC,CAAC,gCACZkB,QAAQ,uDAChB,+CACD,mBACE,gBAAS,SAAS,CAAC,4BAA4B,uBAC7C,YAAK,SAAS,CAAC,WAAW,uBACxB,aAAK,SAAS,CAAC,mCAAmC,wBAChD,YAAK,SAAS,CAAC,2BAA2B,EAAO,cACjD,YAAK,SAAS,CAAC,UAAU,uBACvB,YAAK,SAAS,CAAC,wBAAwB,UACpCR,SAAS,GAAK,IAAI,cACjB,wCACE,oBAAI,mBAAiB,EAAK,cAC1B,aAAM,QAAQ,CAAEG,YAAa,uBAC3B,aAAK,SAAS,CAAC,mBAAmB,wBAChC,cACE,EAAE,CAAC,eAAe,CAClB,SAAS,CAAC,cAAc,CACxB,IAAI,CAAC,MAAM,CACX,QAAQ,CAAE,kBAACC,KAAK,QAAKZ,SAAQ,CAACY,KAAK,CAACK,MAAM,CAACC,KAAK,CAAC,EAAC,CAClD,WAAW,CAAC,OAAO,EACZ,cACT,cACE,EAAE,CAAC,eAAe,CAClB,SAAS,CAAC,cAAc,CACxB,IAAI,CAAC,MAAM,CACX,QAAQ,CAAE,kBAACN,KAAK,QAAKV,eAAc,CAACU,KAAK,CAACK,MAAM,CAACC,KAAK,CAAC,EAAC,CACxD,WAAW,CAAC,aAAa,EAClB,cACT,cACE,EAAE,CAAC,eAAe,CAClB,SAAS,CAAC,cAAc,CACxB,IAAI,CAAC,MAAM,CACX,QAAQ,CAAE,kBAACN,KAAK,QAAKR,YAAW,CAACQ,KAAK,CAACK,MAAM,CAACC,KAAK,CAAC,EAAC,CACrD,WAAW,CAAC,UAAU,EACf,cACT,cACE,EAAE,CAAC,eAAe,CAClB,SAAS,CAAC,cAAc,CACxB,IAAI,CAAC,MAAM,CACX,QAAQ,CAAE,kBAACN,KAAK,QAAKN,SAAQ,CAACM,KAAK,CAACK,MAAM,CAACC,KAAK,CAAC,EAAC,CAClD,WAAW,CAAC,OAAO,EACZ,cACT,eAAQ,SAAS,CAAC,cAAc,CAAC,EAAE,CAAC,eAAe,UAAC,iBAEpD,EAAS,GACL,EACD,GACN,cAEH,oBAAI,wCAAsC,EAC3C,EACG,EACF,GACF,EACF,EACE,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}