{"ast":null,"code":"var _jsxFileName = \"/Users/safirtrew/Desktop/Strangers_Things/my-app/src/components/Posts.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { deletePosts, getPosts } from \"../api/index\";\nimport { MessageForm, Search } from \".\";\nimport \"./App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Posts = _ref => {\n  _s();\n  let {\n    postValue,\n    setPostValue\n  } = _ref;\n  const navigate = useNavigate();\n  const [posts, setPosts] = useState([]);\n  const authToken = localStorage.getItem(\"token\") ? true : false;\n  const catchId = id => {\n    setPostValue(id);\n    return postValue;\n  };\n  useEffect(() => {\n    getPosts().then(response => {\n      const posts = response.data.posts;\n      setPosts(posts);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n  async function deletePost(post_id) {\n    const tokens = localStorage.getItem(\"token\");\n    const erase = await deletePosts(tokens, post_id);\n    navigate(\"/Profile\");\n    return erase;\n  }\n  const postMapping = posts.map((post, index) => {\n    let postId = posts[index]._id;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"postDiv\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-header\",\n          children: /*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"card-title\",\n            children: post.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n            className: \"card-title\",\n            children: [\"$$$: \", post.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"card-text\",\n            children: [\" \", post.updatedAt]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"card-text\",\n            children: [\"DESCRIPTION: \", post.description]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"list-group list-group-light list-group-small\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            className: \"list-group-item px-4\",\n            children: [\"POST BY: \", post.author.username]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(MessageForm, {\n              postId: postId,\n              deletePost: deletePost\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: authToken === true ? /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                catchId(post._id);\n                deletePost(post._id);\n              },\n              type: \"button\",\n              id: \"deletePostButton\",\n              className: \"btn btn-dark\",\n              children: \"Delete Post\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/Login\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-warning\",\n                id: \"loginToViewPost\",\n                children: \"Login to Interact With Posts\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 66,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)\n    }, `Posts${index}`, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this);\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"postBorder\",\n    children: [/*#__PURE__*/_jsxDEV(Search, {\n      postMapping: postMapping,\n      posts: posts,\n      setPosts: setPosts\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"display-4\",\n      children: \"Welcome to Posts!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), authToken === true ? /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/Profile\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        id: \"backToProfile\",\n        type: \"button\",\n        className: \"btn btn-dark\",\n        children: [\" \", \"Back to Profile\", \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 9\n    }, this) : null, postMapping, authToken === true ? /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/Profile\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"btn btn-dark\",\n        children: [\" \", \"Back to Profile\", \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }, this) : null]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n};\n_s(Posts, \"qQ3YxOpq8nIvxfa6GYj5Pc4Bf3I=\", false, function () {\n  return [useNavigate];\n});\n_c = Posts;\nexport default Posts;\n\n// import { DateTime } from \"luxon\";\n// import { useHistory } from \"react-router-dom\";\n// import classNames from \"classnames\";\n// import styles from \"./Post.module.css\";\n// import buttonStyles from \"../../shared/styles/buttons.module.css\";\n\n// const Post = ({ post }) => {\n//   const {\n//     createdAt,\n//     author: { username },\n//     title,\n//     location,\n//     _id,\n//   } = post;\n\n//   const history = useHistory();\n\n//   return (\n//     <div className={styles.container}>\n//       <h3 className={styles.title}>{title}</h3>\n//       <span>\n//         Listed By:\n//         <span className={styles.lister}>&nbsp;{username}</span>\n//       </span>\n//       <span>\n//         Posted On:\n//         <span className={styles.date}>\n//           &nbsp;{DateTime.fromISO(createdAt).toLocaleString(DateTime.DATE_MED)}\n//         </span>\n//       </span>\n//       <span>\n//         Located At:\n//         <span className={styles.location}>&nbsp;{location}</span>\n//       </span>\n//       <button\n//         className={classNames(buttonStyles.button, styles.view_post)}\n//         onClick={() => {\n//           history.push(`/posts/${_id}`);\n//         }}\n//       >\n//         View Listing\n//       </button>\n//     </div>\n//   );\n// };\n\n// export default Post;\nvar _c;\n$RefreshReg$(_c, \"Posts\");","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","deletePosts","getPosts","MessageForm","Search","Posts","postValue","setPostValue","navigate","posts","setPosts","authToken","localStorage","getItem","catchId","id","then","response","data","catch","error","console","log","deletePost","post_id","tokens","erase","postMapping","map","post","index","postId","_id","title","price","updatedAt","description","author","username"],"sources":["/Users/safirtrew/Desktop/Strangers_Things/my-app/src/components/Posts.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport { deletePosts, getPosts } from \"../api/index\";\nimport { MessageForm, Search } from \".\";\n\nimport \"./App.css\";\n\nconst Posts = ({ postValue, setPostValue }) => {\n  const navigate = useNavigate();\n  const [posts, setPosts] = useState([]);\n  const authToken = localStorage.getItem(\"token\") ? true : false;\n  const catchId = (id) => {\n    setPostValue(id);\n    return postValue;\n  };\n  useEffect(() => {\n    getPosts()\n      .then((response) => {\n        const posts = response.data.posts;\n        setPosts(posts);\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n  async function deletePost(post_id) {\n    const tokens = localStorage.getItem(\"token\");\n    const erase = await deletePosts(tokens, post_id);\n    navigate(\"/Profile\");\n    return erase;\n  }\n  const postMapping = posts.map((post, index) => {\n    let postId = posts[index]._id;\n    return (\n      <div id=\"postDiv\" key={`Posts${index}`}>\n        <div className=\"card\">\n          <div className=\"card-header\">\n            <h5 className=\"card-title\">{post.title}</h5>\n          </div>\n          <div className=\"card-body\">\n            <h5 className=\"card-title\">$$$: {post.price}</h5>\n            <p className=\"card-text\"> {post.updatedAt}</p>\n            <p className=\"card-text\">DESCRIPTION: {post.description}</p>\n          </div>\n          <ul className=\"list-group list-group-light list-group-small\">\n            <li className=\"list-group-item px-4\">\n              POST BY: {post.author.username}\n            </li>\n            <li>\n              <MessageForm postId={postId} deletePost={deletePost} />\n            </li>\n            <li>\n              {authToken === true ? (\n                <button\n                  onClick={() => {\n                    catchId(post._id);\n                    deletePost(post._id);\n                  }}\n                  type=\"button\"\n                  id=\"deletePostButton\"\n                  className=\"btn btn-dark\"\n                >\n                  Delete Post\n                </button>\n              ) : (\n                <Link to=\"/Login\">\n                  <button className=\"btn btn-warning\" id=\"loginToViewPost\">\n                    Login to Interact With Posts\n                  </button>\n                </Link>\n              )}\n            </li>\n          </ul>\n        </div>\n      </div>\n    );\n  });\n\n  return (\n    <div id=\"postBorder\">\n      <Search postMapping={postMapping} posts={posts} setPosts={setPosts} />\n      <h1 className=\"display-4\">Welcome to Posts!</h1>\n\n      {authToken === true ? (\n        <Link to=\"/Profile\">\n          <button id=\"backToProfile\" type=\"button\" className=\"btn btn-dark\">\n            {\" \"}\n            Back to Profile{\" \"}\n          </button>\n        </Link>\n      ) : null}\n\n      {postMapping}\n\n      {authToken === true ? (\n        <Link to=\"/Profile\">\n          <button type=\"button\" className=\"btn btn-dark\">\n            {\" \"}\n            Back to Profile{\" \"}\n          </button>\n        </Link>\n      ) : null}\n    </div>\n  );\n};\n\nexport default Posts;\n\n// import { DateTime } from \"luxon\";\n// import { useHistory } from \"react-router-dom\";\n// import classNames from \"classnames\";\n// import styles from \"./Post.module.css\";\n// import buttonStyles from \"../../shared/styles/buttons.module.css\";\n\n// const Post = ({ post }) => {\n//   const {\n//     createdAt,\n//     author: { username },\n//     title,\n//     location,\n//     _id,\n//   } = post;\n\n//   const history = useHistory();\n\n//   return (\n//     <div className={styles.container}>\n//       <h3 className={styles.title}>{title}</h3>\n//       <span>\n//         Listed By:\n//         <span className={styles.lister}>&nbsp;{username}</span>\n//       </span>\n//       <span>\n//         Posted On:\n//         <span className={styles.date}>\n//           &nbsp;{DateTime.fromISO(createdAt).toLocaleString(DateTime.DATE_MED)}\n//         </span>\n//       </span>\n//       <span>\n//         Located At:\n//         <span className={styles.location}>&nbsp;{location}</span>\n//       </span>\n//       <button\n//         className={classNames(buttonStyles.button, styles.view_post)}\n//         onClick={() => {\n//           history.push(`/posts/${_id}`);\n//         }}\n//       >\n//         View Listing\n//       </button>\n//     </div>\n//   );\n// };\n\n// export default Post;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}